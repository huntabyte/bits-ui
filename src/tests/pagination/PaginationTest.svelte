<script lang="ts">
	import { Pagination } from "$lib";

	type $$Props = Pagination.Props;

	export let count: $$Props["count"] = 100;
	export let perPage: $$Props["perPage"] = 10;
</script>

<main>
	<Pagination.Root
		data-testid="root"
		let:pages
		let:range
		bind:count
		bind:perPage
	>
		<p data-testid="range">Showing items {range.start} - {range.end}</p>
		<div>
			<Pagination.PrevButton data-testid="prev-button">
				<span>&LeftArrow;</span>
			</Pagination.PrevButton>
			{#each pages as page (page.key)}
				{#if page.type === "ellipsis"}
					<span>...</span>
				{:else if page.type === "page"}
					<Pagination.Page {page} data-testid="page-{page.value}">
						{page.value}
					</Pagination.Page>
				{/if}
			{/each}
			<Pagination.NextButton data-testid="next-button">
				<span>&RightArrow;;</span>
			</Pagination.NextButton>
		</div>
	</Pagination.Root>
</main>
